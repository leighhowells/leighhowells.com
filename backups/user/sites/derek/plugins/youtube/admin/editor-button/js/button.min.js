!function($){$(function(){$("body").on("grav-editor-ready",function(){Grav.default.Forms.Fields.EditorField.Instance.addButton({youtube:{identifier:"youtube-video",title:"YouTube Video",label:'<i class="fa fa-fw fa-youtube"></i>',modes:["gfm","markdown"],action:function(_ref){var codemirror=_ref.codemirror,button=_ref.button;_ref.textarea;button.on("click.editor.youtube",function(){var videoURL=prompt("Enter the YouTube Video URL. E.g. https://www.youtube.com/watch?v=vQ4qK36UenI");if(videoURL){for(var text="[plugin:youtube]("+videoURL+")",pos=codemirror.getDoc().getCursor(!0),posend=codemirror.getDoc().getCursor(!1),i=pos.line;i<posend.line+1;i++)codemirror.replaceRange(text+codemirror.getLine(i),{line:i,ch:0},{line:i,ch:codemirror.getLine(i).length});codemirror.setCursor({line:posend.line,ch:codemirror.getLine(posend.line).length}),codemirror.focus()}})}}})})})}(jQuery);