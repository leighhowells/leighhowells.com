document.querySelectorAll('input[name="searchfield"][data-search-input]').forEach(function(field){var form=function(el,selector){for(;(el=el.parentElement)&&!(el.matches||el.matchesSelector).call(el,selector););return el}(field,"form[data-simplesearch-form]"),min=field.getAttribute("min")||!1,location=field.getAttribute("data-search-input"),separator=field.getAttribute("data-search-separator");if(min){var invalid=field.getAttribute("data-search-invalid");field.addEventListener("keydown",function(){field.setCustomValidity(field.value.length>=min?"":invalid)})}form.addEventListener("submit",function(event){event.preventDefault(),field.checkValidity()&&(window.location.href=location+separator+field.value)})});