function smoothscroll(){$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(event){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var target=$(this.hash);(target=target.length?target:$("[name="+this.hash.slice(1)+"]")).length&&(event.preventDefault(),$("html, body").animate({scrollTop:target.offset().top},600,function(){var $target=$(target);if($target.focus(),$target.is(":focus"))return!1;$target.attr("tabindex","-1"),$target.focus()}))}})}function onScrollInit(items,trigger){items.each(function(){var osElement=$(this),osAnimationClass=osElement.attr("data-os-animation"),osAnimationDelay=osElement.attr("data-os-animation-delay");osElement.css({"-webkit-animation-delay":osAnimationDelay,"-moz-animation-delay":osAnimationDelay,"animation-delay":osAnimationDelay}),(trigger||osElement).waypoint(function(){osElement.addClass("animated").addClass(osAnimationClass)},{triggerOnce:!0,offset:"80%"})})}function scroller(){var header=document.getElementById("topbar"),jungle=document.getElementById("header"),hero=document.getElementById("heroimage");document.getElementsByTagName("img");window.addEventListener("scroll",function(){var top=this.scrollY;header.style.opacity=1-top/100,header.style.top=0-.05*top+"px",jungle.style.backgroundPositionY=top/1.5+"px",hero.style.bottom=-100-top/.8+"px"})}function sameHeights(){var nodeList=document.getElementsByTagName("article"),elems=[].slice.call(nodeList),tallest=Math.max.apply(Math,elems.map(function(elem,index){return elem.style.minHeight="",elem.offsetHeight}));elems.forEach(function(elem,index,arr){elem.style.minHeight=tallest-40+"px"})}var resized=!0,timeout=null,refresh=function(){resized&&requestAnimationFrame(sameHeights),clearTimeout(timeout),timeout=setTimeout(refresh,100),resized=!1};window.addEventListener("resize",function(){resized=!0}),refresh(),document.addEventListener("DOMContentLoaded",function(event){scroller(),smoothscroll(),onScrollInit($(".os-animation")),onScrollInit($(".staggered-animation"),$(".staggered-animation-container")),onScrollInit($(".staggered-animation2"),$(".staggered-animation-container2"))});