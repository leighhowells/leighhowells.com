function hideEmptyAttribut(t,e){""==t?e.css("display","none"):e.css("display","block")}function setIronAudioplayers(e){var t;void 0!==e?(t=e.includes('"')||e.includes("'")||!jQuery('[data-id="'+e+'"]').hasClass("iron-audioplayer")?jQuery(e+" .iron-audioplayer"):jQuery('[data-id="'+e+'"]'),"undefined"==IRON.players&&(IRON.players=[])):(t=jQuery(".iron-audioplayer"),IRON.players=[]),t.each(function(){var t;void 0===e&&jQuery(this).parents(".elementor-widget-woocommerce-products").length||void 0===e&&jQuery(this).parents(".elementor-widget-music-player").length||((t=Object.create(IRON.audioPlayer)).init(jQuery(this)),IRON.players.push(t))})}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t;function m(){return t.apply(null,arguments)}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(f(t,e))return;return 1}function u(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function c(t,e){for(var i=[],s=0;s<t.length;++s)i.push(e(t[s],s));return i}function p(t,e){for(var i in e)f(e,i)&&(t[i]=e[i]);return f(e,"toString")&&(t.toString=e.toString),f(e,"valueOf")&&(t.valueOf=e.valueOf),t}function y(t,e,i,s){return Me(t,e,i,s,!0).utc()}function g(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function _(t){if(null==t._isValid){var e=g(t),i=s.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function v(t){var e=y(NaN);return null!=t?p(g(e),t):g(e).userInvalidated=!0,e}var s=Array.prototype.some||function(t){for(var e=Object(this),i=e.length>>>0,s=0;s<i;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1},a=m.momentProperties=[],e=!1;function w(t,e){var i,s,n;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=g(e)),u(e._locale)||(t._locale=e._locale),0<a.length)for(i=0;i<a.length;i++)u(n=e[s=a[i]])||(t[s]=n);return t}function k(t){w(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===e&&(e=!0,m.updateOffset(this),e=!1)}function b(t){return t instanceof k||null!=t&&null!=t._isAMomentObject}function x(t){!1===m.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function i(n,a){var r=!0;return p(function(){if(null!=m.deprecationHandler&&m.deprecationHandler(null,n),r){for(var t,e,i=[],s=0;s<arguments.length;s++){if(t="","object"==typeof arguments[s]){for(e in t+="\n["+s+"] ",arguments[0])f(arguments[0],e)&&(t+=e+": "+arguments[0][e]+", ");t=t.slice(0,-2)}else t=arguments[s];i.push(t)}x(n+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),r=!1}return a.apply(this,arguments)},a)}var n={};function S(t,e){null!=m.deprecationHandler&&m.deprecationHandler(t,e),n[t]||(x(e),n[t]=!0)}function M(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t,e){var i,s=p({},t);for(i in e)f(e,i)&&(o(t[i])&&o(e[i])?(s[i]={},p(s[i],t[i]),p(s[i],e[i])):null!=e[i]?s[i]=e[i]:delete s[i]);for(i in t)f(t,i)&&!f(e,i)&&o(t[i])&&(s[i]=p({},s[i]));return s}function C(t){null!=t&&this.set(t)}function P(t,e,i){var s=""+Math.abs(t);return(0<=t?i?"+":"":"-")+Math.pow(10,Math.max(0,e-s.length)).toString().substr(1)+s}m.suppressDeprecationWarnings=!1,m.deprecationHandler=null;var T=Object.keys||function(t){var e,i=[];for(e in t)f(t,e)&&i.push(e);return i},Y=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,O=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,E={},W={};function R(t,e,i,s){var n="string"==typeof s?function(){return this[s]()}:s;t&&(W[t]=n),e&&(W[e[0]]=function(){return P(n.apply(this,arguments),e[1],e[2])}),i&&(W[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function N(t,e){return t.isValid()?(e=A(e,t.localeData()),E[e]=E[e]||function(s){for(var t,n=s.match(Y),e=0,a=n.length;e<a;e++)W[n[e]]?n[e]=W[n[e]]:n[e]=(t=n[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){for(var e="",i=0;i<a;i++)e+=M(n[i])?n[i].call(t,s):n[i];return e}}(e),E[e](t)):t.localeData().invalidDate()}function A(t,e){var i=5;function s(t){return e.longDateFormat(t)||t}for(O.lastIndex=0;0<=i&&O.test(t);)t=t.replace(O,s),O.lastIndex=0,--i;return t}var L={};function F(t,e){var i=t.toLowerCase();L[i]=L[i+"s"]=L[e]=t}function H(t){return"string"==typeof t?L[t]||L[t.toLowerCase()]:void 0}function j(t){var e,i,s={};for(i in t)f(t,i)&&(e=H(i))&&(s[e]=t[i]);return s}var U={};function I(t,e){U[t]=e}function V(t){return t%4==0&&t%100!=0||t%400==0}function G(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function z(t){var e=+t,t=0;return t=0!=e&&isFinite(e)?G(e):t}function B(e,i){return function(t){return null!=t?(q(this,e,t),m.updateOffset(this,i),this):Z(this,e)}}function Z(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function q(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&V(t.year())&&1===t.month()&&29===t.date()?(i=z(i),t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),Ct(i,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](i))}var Q=/\d/,$=/\d\d/,J=/\d{3}/,X=/\d{4}/,K=/[+-]?\d{6}/,tt=/\d\d?/,et=/\d\d\d\d?/,it=/\d\d\d\d\d\d?/,st=/\d{1,3}/,nt=/\d{1,4}/,at=/[+-]?\d{1,6}/,rt=/\d+/,ot=/[+-]?\d+/,ht=/Z|[+-]\d\d:?\d\d/gi,ut=/Z|[+-]\d\d(?::?\d\d)?/gi,lt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function dt(t,i,s){ft[t]=M(i)?i:function(t,e){return t&&s?s:i}}function ct(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={},mt={};function pt(t,i){var e,s=i;for("string"==typeof t&&(t=[t]),l(i)&&(s=function(t,e){e[i]=z(t)}),e=0;e<t.length;e++)mt[t[e]]=s}function yt(t,n){pt(t,function(t,e,i,s){i._w=i._w||{},n(t,i._w,i,s)})}var gt,_t=0,vt=1,wt=2,kt=3,bt=4,xt=5,St=6,Mt=7,Dt=8;function Ct(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=(e%12+12)%12;return t+=(e-i)/12,1==i?V(t)?29:28:31-i%7%2}gt=Array.prototype.indexOf||function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),R("MMMM",0,0,function(t){return this.localeData().months(this,t)}),F("month","M"),I("month",8),dt("M",tt),dt("MM",tt,$),dt("MMM",function(t,e){return e.monthsShortRegex(t)}),dt("MMMM",function(t,e){return e.monthsRegex(t)}),pt(["M","MM"],function(t,e){e[vt]=z(t)-1}),pt(["MMM","MMMM"],function(t,e,i,s){s=i._locale.monthsParse(t,s,i._strict);null!=s?e[vt]=s:g(i).invalidMonth=t});var Pt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Yt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ot=lt,Et=lt;function Wt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=z(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),Ct(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function Rt(t){return null!=t?(Wt(this,t),m.updateOffset(this,!0),this):Z(this,"Month")}function Nt(){function t(t,e){return e.length-t.length}for(var e,i=[],s=[],n=[],a=0;a<12;a++)e=y([2e3,a]),i.push(this.monthsShort(e,"")),s.push(this.months(e,"")),n.push(this.months(e,"")),n.push(this.monthsShort(e,""));for(i.sort(t),s.sort(t),n.sort(t),a=0;a<12;a++)i[a]=ct(i[a]),s[a]=ct(s[a]);for(a=0;a<24;a++)n[a]=ct(n[a]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function At(t){return V(t)?366:365}R("Y",0,0,function(){var t=this.year();return t<=9999?P(t,4):"+"+t}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),F("year","y"),I("year",1),dt("Y",ot),dt("YY",tt,$),dt("YYYY",nt,X),dt("YYYYY",at,K),dt("YYYYYY",at,K),pt(["YYYYY","YYYYYY"],_t),pt("YYYY",function(t,e){e[_t]=2===t.length?m.parseTwoDigitYear(t):z(t)}),pt("YY",function(t,e){e[_t]=m.parseTwoDigitYear(t)}),pt("Y",function(t,e){e[_t]=parseInt(t,10)}),m.parseTwoDigitYear=function(t){return z(t)+(68<z(t)?1900:2e3)};var Lt=B("FullYear",!0);function Ft(t){var e;return t<100&&0<=t?((e=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,e)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ht(t,e,i){i=7+e-i;return i-(7+Ft(t,0,i).getUTCDay()-e)%7-1}function jt(t,e,i,s,n){var a,n=1+7*(e-1)+(7+i-s)%7+Ht(t,s,n),n=n<=0?At(a=t-1)+n:n>At(t)?(a=t+1,n-At(t)):(a=t,n);return{year:a,dayOfYear:n}}function Ut(t,e,i){var s,n,a=Ht(t.year(),e,i),a=Math.floor((t.dayOfYear()-a-1)/7)+1;return a<1?s=a+It(n=t.year()-1,e,i):a>It(t.year(),e,i)?(s=a-It(t.year(),e,i),n=t.year()+1):(n=t.year(),s=a),{week:s,year:n}}function It(t,e,i){var s=Ht(t,e,i),i=Ht(t+1,e,i);return(At(t)-s+i)/7}function Vt(t,e){return t.slice(e,7).concat(t.slice(0,e))}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),F("week","w"),F("isoWeek","W"),I("week",5),I("isoWeek",5),dt("w",tt),dt("ww",tt,$),dt("W",tt),dt("WW",tt,$),yt(["w","ww","W","WW"],function(t,e,i,s){e[s.substr(0,1)]=z(t)}),R("d",0,"do","day"),R("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),R("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),R("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),F("day","d"),F("weekday","e"),F("isoWeekday","E"),I("day",11),I("weekday",11),I("isoWeekday",11),dt("d",tt),dt("e",tt),dt("E",tt),dt("dd",function(t,e){return e.weekdaysMinRegex(t)}),dt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),dt("dddd",function(t,e){return e.weekdaysRegex(t)}),yt(["dd","ddd","dddd"],function(t,e,i,s){s=i._locale.weekdaysParse(t,s,i._strict);null!=s?e.d=s:g(i).invalidWeekday=t}),yt(["d","e","E"],function(t,e,i,s){e[s]=z(t)});var Gt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),zt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Bt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Zt=lt,qt=lt,Qt=lt;function $t(){function t(t,e){return e.length-t.length}for(var e,i,s,n=[],a=[],r=[],o=[],h=0;h<7;h++)s=y([2e3,1]).day(h),e=ct(this.weekdaysMin(s,"")),i=ct(this.weekdaysShort(s,"")),s=ct(this.weekdays(s,"")),n.push(e),a.push(i),r.push(s),o.push(e),o.push(i),o.push(s);n.sort(t),a.sort(t),r.sort(t),o.sort(t),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Xt(t,e){R(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Kt(t,e){return e._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,Jt),R("k",["kk",2],0,function(){return this.hours()||24}),R("hmm",0,0,function(){return""+Jt.apply(this)+P(this.minutes(),2)}),R("hmmss",0,0,function(){return""+Jt.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)}),Xt("a",!0),Xt("A",!1),F("hour","h"),I("hour",13),dt("a",Kt),dt("A",Kt),dt("H",tt),dt("h",tt),dt("k",tt),dt("HH",tt,$),dt("hh",tt,$),dt("kk",tt,$),dt("hmm",et),dt("hmmss",it),dt("Hmm",et),dt("Hmmss",it),pt(["H","HH"],kt),pt(["k","kk"],function(t,e,i){t=z(t);e[kt]=24===t?0:t}),pt(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),pt(["h","hh"],function(t,e,i){e[kt]=z(t),g(i).bigHour=!0}),pt("hmm",function(t,e,i){var s=t.length-2;e[kt]=z(t.substr(0,s)),e[bt]=z(t.substr(s)),g(i).bigHour=!0}),pt("hmmss",function(t,e,i){var s=t.length-4,n=t.length-2;e[kt]=z(t.substr(0,s)),e[bt]=z(t.substr(s,2)),e[xt]=z(t.substr(n)),g(i).bigHour=!0}),pt("Hmm",function(t,e,i){var s=t.length-2;e[kt]=z(t.substr(0,s)),e[bt]=z(t.substr(s))}),pt("Hmmss",function(t,e,i){var s=t.length-4,n=t.length-2;e[kt]=z(t.substr(0,s)),e[bt]=z(t.substr(s,2)),e[xt]=z(t.substr(n))});var te,ee=B("Hours",!0),ie={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"00:00",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pt,monthsShort:Tt,week:{dow:0,doy:6},weekdays:Gt,weekdaysMin:Bt,weekdaysShort:zt,meridiemParse:/[ap]\.?m?\.?/i},se={},ne={};function ae(t){return t&&t.toLowerCase().replace("_","-")}function re(t){var e;if(void 0===se[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=te._abbr,require("./locale/"+t),oe(e)}catch(e){se[t]=null}return se[t]}function oe(t,e){return t&&((e=u(e)?ue(t):he(t,e))?te=e:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),te._abbr}function he(t,e){if(null===e)return delete se[t],null;var i,s=ie;if(e.abbr=t,null!=se[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=se[t]._config;else if(null!=e.parentLocale)if(null!=se[e.parentLocale])s=se[e.parentLocale]._config;else{if(null==(i=re(e.parentLocale)))return ne[e.parentLocale]||(ne[e.parentLocale]=[]),ne[e.parentLocale].push({name:t,config:e}),null;s=i._config}return se[t]=new C(D(s,e)),ne[t]&&ne[t].forEach(function(t){he(t.name,t.config)}),oe(t),se[t]}function ue(t){var e;if(!(t=t&&t._locale&&t._locale._abbr?t._locale._abbr:t))return te;if(!r(t)){if(e=re(t))return e;t=[t]}return function(t){for(var e,i,s,n,a=0;a<t.length;){for(e=(n=ae(t[a]).split("-")).length,i=(i=ae(t[a+1]))?i.split("-"):null;0<e;){if(s=re(n.slice(0,e).join("-")))return s;if(i&&i.length>=e&&function(t,e){for(var i=Math.min(t.length,e.length),s=0;s<i;s+=1)if(t[s]!==e[s])return s;return i}(n,i)>=e-1)break;e--}a++}return te}(t)}function le(t){var e=t._a;return e&&-2===g(t).overflow&&(e=e[vt]<0||11<e[vt]?vt:e[wt]<1||e[wt]>Ct(e[_t],e[vt])?wt:e[kt]<0||24<e[kt]||24===e[kt]&&(0!==e[bt]||0!==e[xt]||0!==e[St])?kt:e[bt]<0||59<e[bt]?bt:e[xt]<0||59<e[xt]?xt:e[St]<0||999<e[St]?St:-1,g(t)._overflowDayOfYear&&(e<_t||wt<e)&&(e=wt),g(t)._overflowWeeks&&-1===e&&(e=Mt),g(t)._overflowWeekday&&-1===e&&(e=Dt),g(t).overflow=e),t}var de=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ce=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/Z|[+-]\d\d(?::?\d\d)?/,me=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ye=/^\/?Date\((-?\d+)/i,ge=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_e={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ve(t){var e,i,s,n,a,r,o=t._i,h=de.exec(o)||ce.exec(o);if(h){for(g(t).iso=!0,e=0,i=me.length;e<i;e++)if(me[e][1].exec(h[1])){n=me[e][0],s=!1!==me[e][2];break}if(null==n)return t._isValid=!1;if(h[3]){for(e=0,i=pe.length;e<i;e++)if(pe[e][1].exec(h[3])){a=(h[2]||" ")+pe[e][0];break}if(null==a)return t._isValid=!1}if(!s&&null!=a)return t._isValid=!1;if(h[4]){if(!fe.exec(h[4]))return t._isValid=!1;r="Z"}t._f=n+(a||"")+(r||""),xe(t)}else t._isValid=!1}function we(t){var e,i,s,n,a,r,o=ge.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));o?(e=o[4],i=o[3],s=o[2],n=o[5],a=o[6],r=o[7],a=[(e=parseInt(e,10))<=49?2e3+e:e<=999?1900+e:e,Tt.indexOf(i),parseInt(s,10),parseInt(n,10),parseInt(a,10)],r&&a.push(parseInt(r,10)),n=s=a,r=t,(a=o[1])&&zt.indexOf(a)!==new Date(n[0],n[1],n[2]).getDay()?(g(r).weekdayMismatch=!0,r._isValid=!1):(t._a=s,t._tzm=function(t,e,i){if(t)return _e[t];if(e)return 0;e=parseInt(i,10),i=e%100;return(e-i)/100*60+i}(o[8],o[9],o[10]),t._d=Ft.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0)):t._isValid=!1}function ke(t,e,i){return null!=t?t:null!=e?e:i}function be(t){var e,i,s,n,a,r,o,h,u,l,d,c,f=[];if(!t._d){for(a=t,c=new Date(m.now()),i=a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()],t._w&&null==t._a[wt]&&null==t._a[vt]&&(null!=(a=(n=t)._w).GG||null!=a.W||null!=a.E?(u=1,l=4,r=ke(a.GG,n._a[_t],Ut(De(),1,4).year),o=ke(a.W,1),((h=ke(a.E,1))<1||7<h)&&(d=!0)):(u=n._locale._week.dow,l=n._locale._week.doy,c=Ut(De(),u,l),r=ke(a.gg,n._a[_t],c.year),o=ke(a.w,c.week),null!=a.d?((h=a.d)<0||6<h)&&(d=!0):null!=a.e?(h=a.e+u,(a.e<0||6<a.e)&&(d=!0)):h=u),o<1||o>It(r,u,l)?g(n)._overflowWeeks=!0:null!=d?g(n)._overflowWeekday=!0:(l=jt(r,o,h,u,l),n._a[_t]=l.year,n._dayOfYear=l.dayOfYear)),null!=t._dayOfYear&&(s=ke(t._a[_t],i[_t]),(t._dayOfYear>At(s)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),s=Ft(s,0,t._dayOfYear),t._a[vt]=s.getUTCMonth(),t._a[wt]=s.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=f[e]=i[e];for(;e<7;e++)t._a[e]=f[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[kt]&&0===t._a[bt]&&0===t._a[xt]&&0===t._a[St]&&(t._nextDay=!0,t._a[kt]=0),t._d=(t._useUTC?Ft:function(t,e,i,s,n,a,r){var o;return t<100&&0<=t?(o=new Date(t+400,e,i,s,n,a,r),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,i,s,n,a,r),o}).apply(null,f),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[kt]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(g(t).weekdayMismatch=!0)}}function xe(t){if(t._f!==m.ISO_8601)if(t._f!==m.RFC_2822){t._a=[],g(t).empty=!0;for(var e,i,s,n=""+t._i,a=n.length,r=0,o=A(t._f,t._locale).match(Y)||[],h=0;h<o.length;h++)i=o[h],(e=(n.match((c=t,f(ft,d=i)?ft[d](c._strict,c._locale):new RegExp(ct(d.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,s,n){return e||i||s||n})))))||[])[0])&&(0<(s=n.substr(0,n.indexOf(e))).length&&g(t).unusedInput.push(s),n=n.slice(n.indexOf(e)+e.length),r+=e.length),W[i]?(e?g(t).empty=!1:g(t).unusedTokens.push(i),c=i,d=t,null!=(s=e)&&f(mt,c)&&mt[c](s,d._a,d,c)):t._strict&&!e&&g(t).unusedTokens.push(i);g(t).charsLeftOver=a-r,0<n.length&&g(t).unusedInput.push(n),t._a[kt]<=12&&!0===g(t).bigHour&&0<t._a[kt]&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[kt]=(u=t._locale,l=t._a[kt],null==(a=t._meridiem)?l:null!=u.meridiemHour?u.meridiemHour(l,a):(null!=u.isPM&&((a=u.isPM(a))&&l<12&&(l+=12),a||12!==l||(l=0)),l)),null!==(l=g(t).era)&&(t._a[_t]=t._locale.erasConvertYear(l,t._a[_t])),be(t),le(t)}else we(t);else ve(t);var u,l,d,c}function Se(t){var e,i,s,n=t._i,a=t._f;return t._locale=t._locale||ue(t._l),null===n||void 0===a&&""===n?v({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),b(n)?new k(le(n)):(d(n)?t._d=n:r(a)?function(t){var e,i,s,n,a,r,o=!1;if(0===t._f.length)return g(t).invalidFormat=!0,t._d=new Date(NaN);for(n=0;n<t._f.length;n++)a=0,r=!1,e=w({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],xe(e),_(e)&&(r=!0),a+=g(e).charsLeftOver,a+=10*g(e).unusedTokens.length,g(e).score=a,o?a<s&&(s=a,i=e):(null==s||a<s||r)&&(s=a,i=e,r&&(o=!0));p(t,i||e)}(t):a?xe(t):u(n=(e=t)._i)?e._d=new Date(m.now()):d(n)?e._d=new Date(n.valueOf()):"string"==typeof n?(i=e,null===(s=ye.exec(i._i))?(ve(i),!1===i._isValid&&(delete i._isValid,we(i),!1===i._isValid&&(delete i._isValid,i._strict?i._isValid=!1:m.createFromInputFallback(i)))):i._d=new Date(+s[1])):r(n)?(e._a=c(n.slice(0),function(t){return parseInt(t,10)}),be(e)):o(n)?(a=e)._d||(s=void 0===(i=j(a._i)).day?i.date:i.day,a._a=c([i.year,i.month,s,i.hour,i.minute,i.second,i.millisecond],function(t){return t&&parseInt(t,10)}),be(a)):l(n)?e._d=new Date(n):m.createFromInputFallback(e),_(t)||(t._d=null),t))}function Me(t,e,i,s,n){var a={};return!0!==e&&!1!==e||(s=e,e=void 0),!0!==i&&!1!==i||(s=i,i=void 0),(o(t)&&h(t)||r(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=n,a._l=i,a._i=t,a._f=e,a._strict=s,(a=new k(le(Se(a))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function De(t,e,i,s){return Me(t,e,i,s,!1)}m.createFromInputFallback=i("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),m.ISO_8601=function(){},m.RFC_2822=function(){};var Ce=i("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()}),Pe=i("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:v()});function Te(t,e){var i,s;if(!(e=1===e.length&&r(e[0])?e[0]:e).length)return De();for(i=e[0],s=1;s<e.length;++s)e[s].isValid()&&!e[s][t](i)||(i=e[s]);return i}var Ye=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Oe(t){var e=j(t),i=e.year||0,s=e.quarter||0,n=e.month||0,a=e.week||e.isoWeek||0,r=e.day||0,o=e.hour||0,h=e.minute||0,u=e.second||0,t=e.millisecond||0;this._isValid=function(t){var e,i,s=!1;for(e in t)if(f(t,e)&&(-1===gt.call(Ye,e)||null!=t[e]&&isNaN(t[e])))return!1;for(i=0;i<Ye.length;++i)if(t[Ye[i]]){if(s)return!1;parseFloat(t[Ye[i]])!==z(t[Ye[i]])&&(s=!0)}return!0}(e),this._milliseconds=+t+1e3*u+6e4*h+1e3*o*60*60,this._days=+r+7*a,this._months=+n+3*s+12*i,this._data={},this._locale=ue(),this._bubble()}function Ee(t){return t instanceof Oe}function We(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Re(t,i){R(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+P(~~(t/60),2)+i+P(~~t%60,2)})}Re("Z",":"),Re("ZZ",""),dt("Z",ut),dt("ZZ",ut),pt(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Ae(ut,t)});var Ne=/([\+\-]|\d\d)/gi;function Ae(t,e){var e=(e||"").match(t);return null===e?null:0===(e=60*(t=((e[e.length-1]||[])+"").match(Ne)||["-",0,0])[1]+z(t[2]))?0:"+"===t[0]?e:-e}function Le(t,e){var i;return e._isUTC?(i=e.clone(),e=(b(t)||d(t)?t:De(t)).valueOf()-i.valueOf(),i._d.setTime(i._d.valueOf()+e),m.updateOffset(i,!1),i):De(t).local()}function Fe(t){return-Math.round(t._d.getTimezoneOffset())}function He(){return!!this.isValid()&&this._isUTC&&0===this._offset}m.updateOffset=function(){};var je=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ue=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ie(t,e){var i,s,n=t,a=null;return Ee(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:l(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(a=je.exec(t))?(i="-"===a[1]?-1:1,n={y:0,d:z(a[wt])*i,h:z(a[kt])*i,m:z(a[bt])*i,s:z(a[xt])*i,ms:z(We(1e3*a[St]))*i}):(a=Ue.exec(t))?(i="-"===a[1]?-1:1,n={y:Ve(a[2],i),M:Ve(a[3],i),w:Ve(a[4],i),d:Ve(a[5],i),h:Ve(a[6],i),m:Ve(a[7],i),s:Ve(a[8],i)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(a=De(n.from),i=De(n.to),s=a.isValid()&&i.isValid()?(i=Le(i,a),a.isBefore(i)?s=Ge(a,i):((s=Ge(i,a)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(n={}).ms=s.milliseconds,n.M=s.months),n=new Oe(n),Ee(t)&&f(t,"_locale")&&(n._locale=t._locale),Ee(t)&&f(t,"_isValid")&&(n._isValid=t._isValid),n}function Ve(t,e){t=t&&parseFloat(t.replace(",","."));return(isNaN(t)?0:t)*e}function Ge(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=e-t.clone().add(i.months,"M"),i}function ze(s,n){return function(t,e){var i;return null===e||isNaN(+e)||(S(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=t,t=e,e=i),Be(this,Ie(t,e),s),this}}function Be(t,e,i,s){var n=e._milliseconds,a=We(e._days),e=We(e._months);t.isValid()&&(s=null==s||s,e&&Wt(t,Z(t,"Month")+e*i),a&&q(t,"Date",Z(t,"Date")+a*i),n&&t._d.setTime(t._d.valueOf()+n*i),s&&m.updateOffset(t,a||e))}Ie.fn=Oe.prototype,Ie.invalid=function(){return Ie(NaN)};var Ze=ze(1,"add"),lt=ze(-1,"subtract");function qe(t){return"string"==typeof t||t instanceof String}function Qe(t,e){if(t.date()<e.date())return-Qe(e,t);var i=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(i,"months");return-(i+(e-s<0?(e-s)/(s-t.clone().add(i-1,"months")):(e-s)/(t.clone().add(1+i,"months")-s)))||0}function $e(t){return void 0===t?this._locale._abbr:(null!=(t=ue(t))&&(this._locale=t),this)}m.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",m.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";et=i("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Je(){return this._locale}var Xe=126227808e5;function Ke(t,e){return(t%e+e)%e}function ti(t,e,i){return t<100&&0<=t?new Date(t+400,e,i)-Xe:new Date(t,e,i).valueOf()}function ei(t,e,i){return t<100&&0<=t?Date.UTC(t+400,e,i)-Xe:Date.UTC(t,e,i)}function ii(t,e){return e.erasAbbrRegex(t)}function si(){for(var t=[],e=[],i=[],s=[],n=this.eras(),a=0,r=n.length;a<r;++a)e.push(ct(n[a].name)),t.push(ct(n[a].abbr)),i.push(ct(n[a].narrow)),s.push(ct(n[a].name)),s.push(ct(n[a].abbr)),s.push(ct(n[a].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function ni(t,e){R(0,[t,t.length],0,e)}function ai(t,e,i,s,n){var a;return null==t?Ut(this,s,n).year:((a=It(t,s,n))<e&&(e=a),function(t,e,i,s,n){n=jt(t,e,i,s,n),n=Ft(n.year,0,n.dayOfYear);return this.year(n.getUTCFullYear()),this.month(n.getUTCMonth()),this.date(n.getUTCDate()),this}.call(this,t,e,i,s,n))}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),dt("N",ii),dt("NN",ii),dt("NNN",ii),dt("NNNN",function(t,e){return e.erasNameRegex(t)}),dt("NNNNN",function(t,e){return e.erasNarrowRegex(t)}),pt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,i,s){s=i._locale.erasParse(t,s,i._strict);s?g(i).era=s:g(i).invalidEra=t}),dt("y",rt),dt("yy",rt),dt("yyy",rt),dt("yyyy",rt),dt("yo",function(t,e){return e._eraYearOrdinalRegex||rt}),pt(["y","yy","yyy","yyyy"],_t),pt(["yo"],function(t,e,i,s){var n;i._locale._eraYearOrdinalRegex&&(n=t.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?e[_t]=i._locale.eraYearOrdinalParse(t,n):e[_t]=parseInt(t,10)}),R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ni("gggg","weekYear"),ni("ggggg","weekYear"),ni("GGGG","isoWeekYear"),ni("GGGGG","isoWeekYear"),F("weekYear","gg"),F("isoWeekYear","GG"),I("weekYear",1),I("isoWeekYear",1),dt("G",ot),dt("g",ot),dt("GG",tt,$),dt("gg",tt,$),dt("GGGG",nt,X),dt("gggg",nt,X),dt("GGGGG",at,K),dt("ggggg",at,K),yt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,s){e[s.substr(0,2)]=z(t)}),yt(["gg","GG"],function(t,e,i,s){e[s]=m.parseTwoDigitYear(t)}),R("Q",0,"Qo","quarter"),F("quarter","Q"),I("quarter",7),dt("Q",Q),pt("Q",function(t,e){e[vt]=3*(z(t)-1)}),R("D",["DD",2],"Do","date"),F("date","D"),I("date",9),dt("D",tt),dt("DD",tt,$),dt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),pt(["D","DD"],wt),pt("Do",function(t,e){e[wt]=z(t.match(tt)[0])});it=B("Date",!0);R("DDD",["DDDD",3],"DDDo","dayOfYear"),F("dayOfYear","DDD"),I("dayOfYear",4),dt("DDD",st),dt("DDDD",J),pt(["DDD","DDDD"],function(t,e,i){i._dayOfYear=z(t)}),R("m",["mm",2],0,"minute"),F("minute","m"),I("minute",14),dt("m",tt),dt("mm",tt,$),pt(["m","mm"],bt);Pt=B("Minutes",!1);R("s",["ss",2],0,"second"),F("second","s"),I("second",15),dt("s",tt),dt("ss",tt,$),pt(["s","ss"],xt);var ri,Gt=B("Seconds",!1);for(R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return 10*this.millisecond()}),R(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),R(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),R(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),R(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),R(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),F("millisecond","ms"),I("millisecond",16),dt("S",st,Q),dt("SS",st,$),dt("SSS",st,J),ri="SSSS";ri.length<=9;ri+="S")dt(ri,rt);function oi(t,e){e[St]=z(1e3*("0."+t))}for(ri="S";ri.length<=9;ri+="S")pt(ri,oi);Bt=B("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");nt=k.prototype;function hi(t){return t}nt.add=Ze,nt.calendar=function(t,e){var i,s,n;1===arguments.length&&(arguments[0]?b(a=arguments[0])||d(a)||qe(a)||l(a)||(s=r(i=a),n=!1,s&&(n=0===i.filter(function(t){return!l(t)&&qe(i)}).length),s&&n)||function(t){for(var e=o(t)&&!h(t),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],n=0;n<s.length;n+=1)i=i||f(t,s[n]);return e&&i}(a)||null==a?(t=arguments[0],e=void 0):function(t){for(var e=o(t)&&!h(t),i=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],n=0;n<s.length;n+=1)i=i||f(t,s[n]);return e&&i}(arguments[0])&&(e=arguments[0],t=void 0):e=t=void 0);var a=t||De(),t=Le(a,this).startOf("day"),t=m.calendarFormat(this,t)||"sameElse",e=e&&(M(e[t])?e[t].call(this,a):e[t]);return this.format(e||this.localeData().calendar(t,this,De(a)))},nt.clone=function(){return new k(this)},nt.diff=function(t,e,i){var s,n,a;if(!this.isValid())return NaN;if(!(s=Le(t,this)).isValid())return NaN;switch(n=6e4*(s.utcOffset()-this.utcOffset()),e=H(e)){case"year":a=Qe(this,s)/12;break;case"month":a=Qe(this,s);break;case"quarter":a=Qe(this,s)/3;break;case"second":a=(this-s)/1e3;break;case"minute":a=(this-s)/6e4;break;case"hour":a=(this-s)/36e5;break;case"day":a=(this-s-n)/864e5;break;case"week":a=(this-s-n)/6048e5;break;default:a=this-s}return i?a:G(a)},nt.endOf=function(t){var e,i;if(void 0===(t=H(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?ei:ti,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Ke(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Ke(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Ke(e,1e3)-1}return this._d.setTime(e),m.updateOffset(this,!0),this},nt.format=function(t){t=t||(this.isUtc()?m.defaultFormatUtc:m.defaultFormat);t=N(this,t);return this.localeData().postformat(t)},nt.from=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||De(t).isValid())?Ie({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},nt.fromNow=function(t){return this.from(De(),t)},nt.to=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||De(t).isValid())?Ie({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},nt.toNow=function(t){return this.to(De(),t)},nt.get=function(t){return M(this[t=H(t)])?this[t]():this},nt.invalidAt=function(){return g(this).overflow},nt.isAfter=function(t,e){t=b(t)?t:De(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=H(e)||"millisecond")?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf())},nt.isBefore=function(t,e){t=b(t)?t:De(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=H(e)||"millisecond")?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf())},nt.isBetween=function(t,e,i,s){t=b(t)?t:De(t),e=b(e)?e:De(e);return!!(this.isValid()&&t.isValid()&&e.isValid())&&("("===(s=s||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===s[1]?this.isBefore(e,i):!this.isAfter(e,i))},nt.isSame=function(t,e){var t=b(t)?t:De(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=H(e)||"millisecond")?this.valueOf()===t.valueOf():(t=t.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf()))},nt.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},nt.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},nt.isValid=function(){return _(this)},nt.lang=et,nt.locale=$e,nt.localeData=Je,nt.max=Pe,nt.min=Ce,nt.parsingFlags=function(){return p({},g(this))},nt.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e,i=[];for(e in t)f(t,e)&&i.push({unit:e,priority:U[e]});return i.sort(function(t,e){return t.priority-e.priority}),i}(t=j(t)),s=0;s<i.length;s++)this[i[s].unit](t[i[s].unit]);else if(M(this[t=H(t)]))return this[t](e);return this},nt.startOf=function(t){var e,i;if(void 0===(t=H(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?ei:ti,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ke(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Ke(e,6e4);break;case"second":e=this._d.valueOf(),e-=Ke(e,1e3)}return this._d.setTime(e),m.updateOffset(this,!0),this},nt.subtract=lt,nt.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},nt.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},nt.toDate=function(){return new Date(this.valueOf())},nt.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,t=e?this.clone().utc():this;return t.year()<0||9999<t.year()?N(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",N(t,"Z")):N(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},nt.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e="moment",i="";return this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),t="["+e+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+(i+'[")]'))},"undefined"!=typeof Symbol&&null!=Symbol.for&&(nt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),nt.toJSON=function(){return this.isValid()?this.toISOString():null},nt.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},nt.unix=function(){return Math.floor(this.valueOf()/1e3)},nt.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},nt.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},nt.eraName=function(){for(var t,e=this.localeData().eras(),i=0,s=e.length;i<s;++i){if(t=this.clone().startOf("day").valueOf(),e[i].since<=t&&t<=e[i].until)return e[i].name;if(e[i].until<=t&&t<=e[i].since)return e[i].name}return""},nt.eraNarrow=function(){for(var t,e=this.localeData().eras(),i=0,s=e.length;i<s;++i){if(t=this.clone().startOf("day").valueOf(),e[i].since<=t&&t<=e[i].until)return e[i].narrow;if(e[i].until<=t&&t<=e[i].since)return e[i].narrow}return""},nt.eraAbbr=function(){for(var t,e=this.localeData().eras(),i=0,s=e.length;i<s;++i){if(t=this.clone().startOf("day").valueOf(),e[i].since<=t&&t<=e[i].until)return e[i].abbr;if(e[i].until<=t&&t<=e[i].since)return e[i].abbr}return""},nt.eraYear=function(){for(var t,e,i=this.localeData().eras(),s=0,n=i.length;s<n;++s)if(t=i[s].since<=i[s].until?1:-1,e=this.clone().startOf("day").valueOf(),i[s].since<=e&&e<=i[s].until||i[s].until<=e&&e<=i[s].since)return(this.year()-m(i[s].since).year())*t+i[s].offset;return this.year()},nt.year=Lt,nt.isLeapYear=function(){return V(this.year())},nt.weekYear=function(t){return ai.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},nt.isoWeekYear=function(t){return ai.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},nt.quarter=nt.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},nt.month=Rt,nt.daysInMonth=function(){return Ct(this.year(),this.month())},nt.week=nt.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},nt.isoWeek=nt.isoWeeks=function(t){var e=Ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},nt.weeksInYear=function(){var t=this.localeData()._week;return It(this.year(),t.dow,t.doy)},nt.weeksInWeekYear=function(){var t=this.localeData()._week;return It(this.weekYear(),t.dow,t.doy)},nt.isoWeeksInYear=function(){return It(this.year(),1,4)},nt.isoWeeksInISOWeekYear=function(){return It(this.isoWeekYear(),1,4)},nt.date=it,nt.day=nt.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,i,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,i=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=i.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-s,"d")):s},nt.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},nt.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e=(e=t,t=this.localeData(),"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?e:e-7)},nt.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},nt.hour=nt.hours=ee,nt.minute=nt.minutes=Pt,nt.second=nt.seconds=Gt,nt.millisecond=nt.milliseconds=Bt,nt.utcOffset=function(t,e,i){var s,n=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?n:Fe(this);if("string"==typeof t){if(null===(t=Ae(ut,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(s=Fe(this)),this._offset=t,this._isUTC=!0,null!=s&&this.add(s,"m"),n!==t&&(!e||this._changeInProgress?Be(this,Ie(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,m.updateOffset(this,!0),this._changeInProgress=null)),this},nt.utc=function(t){return this.utcOffset(0,t)},nt.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this},nt.parseZone=function(){var t;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(t=Ae(ht,this._i))?this.utcOffset(t):this.utcOffset(0,!0)),this},nt.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?De(t).utcOffset():0,(this.utcOffset()-t)%60==0)},nt.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},nt.isLocal=function(){return!!this.isValid()&&!this._isUTC},nt.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},nt.isUtc=He,nt.isUTC=He,nt.zoneAbbr=function(){return this._isUTC?"UTC":""},nt.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},nt.dates=i("dates accessor is deprecated. Use date instead.",it),nt.months=i("months accessor is deprecated. Use month instead",Rt),nt.years=i("years accessor is deprecated. Use year instead",Lt),nt.zone=i("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?(this.utcOffset(t="string"!=typeof t?-t:t,e),this):-this.utcOffset()}),nt.isDSTShifted=i("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return w(e,this),(e=Se(e))._a?(t=(e._isUTC?y:De)(e._a),this._isDSTShifted=this.isValid()&&0<function(t,e){for(var i=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),n=0,a=0;a<i;a++)z(t[a])!==z(e[a])&&n++;return n+s}(e._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted});X=C.prototype;function ui(t,e,i,s){var n=ue(),e=y().set(s,e);return n[i](e,t)}function li(t,e,i){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return ui(t,e,i,"month");for(var s=[],n=0;n<12;n++)s[n]=ui(t,n,i,"month");return s}function di(t,e,i,s){"boolean"==typeof t?l(e)&&(i=e,e=void 0):(e=t,t=!1,l(i=e)&&(i=e,e=void 0)),e=e||"";var n,a=ue(),r=t?a._week.dow:0,o=[];if(null!=i)return ui(e,(i+r)%7,s,"day");for(n=0;n<7;n++)o[n]=ui(e,(n+r)%7,s,"day");return o}X.calendar=function(t,e,i){t=this._calendar[t]||this._calendar.sameElse;return M(t)?t.call(e,i):t},X.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.match(Y).map(function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t}).join(""),this._longDateFormat[t])},X.invalidDate=function(){return this._invalidDate},X.ordinal=function(t){return this._ordinal.replace("%d",t)},X.preparse=hi,X.postformat=hi,X.relativeTime=function(t,e,i,s){var n=this._relativeTime[i];return M(n)?n(t,e,i,s):n.replace(/%d/i,t)},X.pastFuture=function(t,e){t=this._relativeTime[0<t?"future":"past"];return M(t)?t(e):t.replace(/%s/i,e)},X.set=function(t){var e,i;for(i in t)f(t,i)&&(M(e=t[i])?this[i]=e:this["_"+i]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},X.eras=function(t,e){for(var i,s=this._eras||ue("en")._eras,n=0,a=s.length;n<a;++n)switch("string"==typeof s[n].since&&(i=m(s[n].since).startOf("day"),s[n].since=i.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=m(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf()}return s},X.erasParse=function(t,e,i){var s,n,a,r,o,h=this.eras();for(t=t.toUpperCase(),s=0,n=h.length;s<n;++s)if(a=h[s].name.toUpperCase(),r=h[s].abbr.toUpperCase(),o=h[s].narrow.toUpperCase(),i)switch(e){case"N":case"NN":case"NNN":if(r===t)return h[s];break;case"NNNN":if(a===t)return h[s];break;case"NNNNN":if(o===t)return h[s]}else if(0<=[a,r,o].indexOf(t))return h[s]},X.erasConvertYear=function(t,e){var i=t.since<=t.until?1:-1;return void 0===e?m(t.since).year():m(t.since).year()+(e-t.offset)*i},X.erasAbbrRegex=function(t){return f(this,"_erasAbbrRegex")||si.call(this),t?this._erasAbbrRegex:this._erasRegex},X.erasNameRegex=function(t){return f(this,"_erasNameRegex")||si.call(this),t?this._erasNameRegex:this._erasRegex},X.erasNarrowRegex=function(t){return f(this,"_erasNarrowRegex")||si.call(this),t?this._erasNarrowRegex:this._erasRegex},X.months=function(t,e){return t?(r(this._months)?this._months:this._months[(this._months.isFormat||Yt).test(e)?"format":"standalone"])[t.month()]:r(this._months)?this._months:this._months.standalone},X.monthsShort=function(t,e){return t?(r(this._monthsShort)?this._monthsShort:this._monthsShort[Yt.test(e)?"format":"standalone"])[t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},X.monthsParse=function(t,e,i){var s,n;if(this._monthsParseExact)return function(t,e,i){var s,n,a,t=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)a=y([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(a,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(n=gt.call(this._shortMonthsParse,t))?n:null:-1!==(n=gt.call(this._longMonthsParse,t))?n:null:"MMM"===e?-1!==(n=gt.call(this._shortMonthsParse,t))||-1!==(n=gt.call(this._longMonthsParse,t))?n:null:-1!==(n=gt.call(this._longMonthsParse,t))||-1!==(n=gt.call(this._shortMonthsParse,t))?n:null}.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(n=y([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[s]||(n="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[s]=new RegExp(n.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[s].test(t))return s;if(i&&"MMM"===e&&this._shortMonthsParse[s].test(t))return s;if(!i&&this._monthsParse[s].test(t))return s}},X.monthsRegex=function(t){return this._monthsParseExact?(f(this,"_monthsRegex")||Nt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(f(this,"_monthsRegex")||(this._monthsRegex=Et),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},X.monthsShortRegex=function(t){return this._monthsParseExact?(f(this,"_monthsRegex")||Nt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(f(this,"_monthsShortRegex")||(this._monthsShortRegex=Ot),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},X.week=function(t){return Ut(t,this._week.dow,this._week.doy).week},X.firstDayOfYear=function(){return this._week.doy},X.firstDayOfWeek=function(){return this._week.dow},X.weekdays=function(t,e){e=r(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Vt(e,this._week.dow):t?e[t.day()]:e},X.weekdaysMin=function(t){return!0===t?Vt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},X.weekdaysShort=function(t){return!0===t?Vt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},X.weekdaysParse=function(t,e,i){var s,n;if(this._weekdaysParseExact)return function(t,e,i){var s,n,a,t=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)a=y([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(a,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(n=gt.call(this._weekdaysParse,t))?n:null:"ddd"===e?-1!==(n=gt.call(this._shortWeekdaysParse,t))?n:null:-1!==(n=gt.call(this._minWeekdaysParse,t))?n:null:"dddd"===e?-1!==(n=gt.call(this._weekdaysParse,t))||-1!==(n=gt.call(this._shortWeekdaysParse,t))||-1!==(n=gt.call(this._minWeekdaysParse,t))?n:null:"ddd"===e?-1!==(n=gt.call(this._shortWeekdaysParse,t))||-1!==(n=gt.call(this._weekdaysParse,t))||-1!==(n=gt.call(this._minWeekdaysParse,t))?n:null:-1!==(n=gt.call(this._minWeekdaysParse,t))||-1!==(n=gt.call(this._weekdaysParse,t))||-1!==(n=gt.call(this._shortWeekdaysParse,t))?n:null}.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(n=y([2e3,1]).day(s),i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(n="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[s]=new RegExp(n.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[s].test(t))return s;if(i&&"ddd"===e&&this._shortWeekdaysParse[s].test(t))return s;if(i&&"dd"===e&&this._minWeekdaysParse[s].test(t))return s;if(!i&&this._weekdaysParse[s].test(t))return s}},X.weekdaysRegex=function(t){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(f(this,"_weekdaysRegex")||(this._weekdaysRegex=Zt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},X.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(f(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},X.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(f(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},X.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},X.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},oe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===z(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),m.lang=i("moment.lang is deprecated. Use moment.locale instead.",oe),m.langData=i("moment.langData is deprecated. Use moment.localeData instead.",ue);var ci=Math.abs;function fi(t,e,i,s){i=Ie(e,i);return t._milliseconds+=s*i._milliseconds,t._days+=s*i._days,t._months+=s*i._months,t._bubble()}function mi(t){return t<0?Math.floor(t):Math.ceil(t)}function pi(t){return 4800*t/146097}function yi(t){return 146097*t/4800}function gi(t){return function(){return this.as(t)}}at=gi("ms"),K=gi("s"),Q=gi("m"),$=gi("h"),st=gi("d"),J=gi("w"),Ze=gi("M"),Pe=gi("Q"),Ce=gi("y");function _i(t){return function(){return this.isValid()?this._data[t]:NaN}}var lt=_i("milliseconds"),ee=_i("seconds"),Pt=_i("minutes"),Gt=_i("hours"),Bt=_i("days"),it=_i("months"),Lt=_i("years"),vi=Math.round,wi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};var ki=Math.abs;function bi(t){return(0<t)-(t<0)||+t}function xi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i,s,n,a,r,o=ki(this._milliseconds)/1e3,h=ki(this._days),u=ki(this._months),l=this.asSeconds();return l?(t=G(o/60),e=G(t/60),o%=60,t%=60,i=G(u/12),u%=12,s=o?o.toFixed(3).replace(/\.?0+$/,""):"",n=bi(this._months)!==bi(l)?"-":"",a=bi(this._days)!==bi(l)?"-":"",r=bi(this._milliseconds)!==bi(l)?"-":"",(l<0?"-":"")+"P"+(i?n+i+"Y":"")+(u?n+u+"M":"")+(h?a+h+"D":"")+(e||t||o?"T":"")+(e?r+e+"H":"")+(t?r+t+"M":"")+(o?r+s+"S":"")):"P0D"}X=Oe.prototype;return X.isValid=function(){return this._isValid},X.abs=function(){var t=this._data;return this._milliseconds=ci(this._milliseconds),this._days=ci(this._days),this._months=ci(this._months),t.milliseconds=ci(t.milliseconds),t.seconds=ci(t.seconds),t.minutes=ci(t.minutes),t.hours=ci(t.hours),t.months=ci(t.months),t.years=ci(t.years),this},X.add=function(t,e){return fi(this,t,e,1)},X.subtract=function(t,e){return fi(this,t,e,-1)},X.as=function(t){if(!this.isValid())return NaN;var e,i,s=this._milliseconds;if("month"===(t=H(t))||"quarter"===t||"year"===t)switch(e=this._days+s/864e5,i=this._months+pi(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(yi(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return 24*e+s/36e5;case"minute":return 1440*e+s/6e4;case"second":return 86400*e+s/1e3;case"millisecond":return Math.floor(864e5*e)+s;default:throw new Error("Unknown unit "+t)}},X.asMilliseconds=at,X.asSeconds=K,X.asMinutes=Q,X.asHours=$,X.asDays=st,X.asWeeks=J,X.asMonths=Ze,X.asQuarters=Pe,X.asYears=Ce,X.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*z(this._months/12):NaN},X._bubble=function(){var t=this._milliseconds,e=this._days,i=this._months,s=this._data;return 0<=t&&0<=e&&0<=i||t<=0&&e<=0&&i<=0||(t+=864e5*mi(yi(i)+e),i=e=0),s.milliseconds=t%1e3,t=G(t/1e3),s.seconds=t%60,t=G(t/60),s.minutes=t%60,t=G(t/60),s.hours=t%24,e+=G(t/24),i+=t=G(pi(e)),e-=mi(yi(t)),t=G(i/12),i%=12,s.days=e,s.months=i,s.years=t,this},X.clone=function(){return Ie(this)},X.get=function(t){return t=H(t),this.isValid()?this[t+"s"]():NaN},X.milliseconds=lt,X.seconds=ee,X.minutes=Pt,X.hours=Gt,X.days=Bt,X.weeks=function(){return G(this.days()/7)},X.months=it,X.years=Lt,X.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var i,s,n,a,r,o,h,u,l,d=!1,c=wi;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(d=t),"object"==typeof e&&(c=Object.assign({},wi,e),null!=e.s&&null==e.ss&&(c.ss=e.s-1)),i=this.localeData(),n=!d,a=c,r=i,o=Ie(s=this).abs(),h=vi(o.as("s")),u=vi(o.as("m")),l=vi(o.as("h")),t=vi(o.as("d")),e=vi(o.as("M")),c=vi(o.as("w")),o=vi(o.as("y")),t=(h<=a.ss?["s",h]:h<a.s&&["ss",h])||u<=1&&["m"]||u<a.m&&["mm",u]||l<=1&&["h"]||l<a.h&&["hh",l]||t<=1&&["d"]||t<a.d&&["dd",t],(t=(t=null!=a.w?t||c<=1&&["w"]||c<a.w&&["ww",c]:t)||e<=1&&["M"]||e<a.M&&["MM",e]||o<=1&&["y"]||["yy",o])[2]=n,t[3]=0<+s,t[4]=r,t=function(t,e,i,s,n){return n.relativeTime(e||1,!!i,t,s)}.apply(null,t),d&&(t=i.pastFuture(+this,t)),i.postformat(t)},X.toISOString=xi,X.toString=xi,X.toJSON=xi,X.locale=$e,X.localeData=Je,X.toIsoString=i("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",xi),X.lang=et,R("X",0,0,"unix"),R("x",0,0,"valueOf"),dt("x",ot),dt("X",/[+-]?\d+(\.\d{1,3})?/),pt("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t))}),pt("x",function(t,e,i){i._d=new Date(z(t))}),m.version="2.29.1",t=De,m.fn=nt,m.min=function(){return Te("isBefore",[].slice.call(arguments,0))},m.max=function(){return Te("isAfter",[].slice.call(arguments,0))},m.now=function(){return Date.now?Date.now():+new Date},m.utc=y,m.unix=function(t){return De(1e3*t)},m.months=function(t,e){return li(t,e,"months")},m.isDate=d,m.locale=oe,m.invalid=v,m.duration=Ie,m.isMoment=b,m.weekdays=function(t,e,i){return di(t,e,i,"weekdays")},m.parseZone=function(){return De.apply(null,arguments).parseZone()},m.localeData=ue,m.isDuration=Ee,m.monthsShort=function(t,e){return li(t,e,"monthsShort")},m.weekdaysMin=function(t,e,i){return di(t,e,i,"weekdaysMin")},m.defineLocale=he,m.updateLocale=function(t,e){var i,s;return null!=e?(s=ie,null!=se[t]&&null!=se[t].parentLocale?se[t].set(D(se[t]._config,e)):(e=D(s=null!=(i=re(t))?i._config:s,e),null==i&&(e.abbr=t),(e=new C(e)).parentLocale=se[t],se[t]=e),oe(t)):null!=se[t]&&(null!=se[t].parentLocale?(se[t]=se[t].parentLocale,t===oe()&&oe(t)):null!=se[t]&&delete se[t]),se[t]},m.locales=function(){return T(se)},m.weekdaysShort=function(t,e,i){return di(t,e,i,"weekdaysShort")},m.normalizeUnits=H,m.relativeTimeRounding=function(t){return void 0===t?vi:"function"==typeof t&&(vi=t,!0)},m.relativeTimeThreshold=function(t,e){return void 0!==wi[t]&&(void 0===e?wi[t]:(wi[t]=e,"s"===t&&(wi.ss=e-1),!0))},m.calendarFormat=function(t,e){e=t.diff(e,"days",!0);return e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},m.prototype=nt,m.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},m}),function(t,e){"function"==typeof define&&define.amd?define("wavesurfer",[],function(){return t.WaveSurfer=e()}):"object"==typeof exports?module.exports=e():t.WaveSurfer=e()}(this,function(){"use strict";var c={defaultParams:{height:128,waveColor:"#999",progressColor:"#555",cursorColor:"#333",cursorWidth:1,skipLength:2,minPxPerSec:20,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,fillParent:!0,scrollParent:!1,hideScrollbar:!1,normalize:!1,audioContext:null,container:null,dragSelection:!0,loopSelection:!0,audioRate:1,interact:!0,splitChannels:!1,mediaContainer:null,mediaControls:!1,renderer:"Canvas",backend:"WebAudio",mediaType:"audio",autoCenter:!0},init:function(t){if(this.params=c.util.extend({},this.defaultParams,t),this.container="string"==typeof t.container?document.querySelector(this.params.container):this.params.container,!this.container)throw new Error("Container element not found");if(null==this.params.mediaContainer?this.mediaContainer=this.container:"string"==typeof this.params.mediaContainer?this.mediaContainer=document.querySelector(this.params.mediaContainer):this.mediaContainer=this.params.mediaContainer,!this.mediaContainer)throw new Error("Media Container element not found");this.savedVolume=0,this.isMuted=!1,this.tmpEvents=[],this.currentAjax=null,this.createDrawer(),this.createBackend(),this.isDestroyed=!1},createDrawer:function(){var i=this;this.drawer=Object.create(c.Drawer[this.params.renderer]),this.drawer.init(this.container,this.params),this.drawer.on("redraw",function(){i.drawBuffer(),i.drawer.progress(i.backend.getPlayedPercents())}),this.drawer.on("click",function(t,e){setTimeout(function(){i.seekTo(e)},0)}),this.drawer.on("scroll",function(t){i.fireEvent("scroll",t)})},createBackend:function(){var e=this;this.backend&&this.backend.destroy(),"AudioElement"==this.params.backend&&(this.params.backend="MediaElement"),"WebAudio"!=this.params.backend||c.WebAudio.supportsWebAudio()||(this.params.backend="MediaElement"),this.backend=Object.create(c[this.params.backend]),this.backend.init(this.params),this.backend.on("finish",function(){e.fireEvent("finish")}),this.backend.on("play",function(){e.fireEvent("play")}),this.backend.on("pause",function(){e.fireEvent("pause")}),this.backend.on("audioprocess",function(t){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("audioprocess",t)})},getDuration:function(){return this.backend.getDuration()},getCurrentTime:function(){return this.backend.getCurrentTime()},play:function(t,e){this.fireEvent("interaction",this.play.bind(this,t,e)),this.backend.play(t,e)},pause:function(){this.backend.pause()},playPause:function(){this.backend.isPaused()?this.play():this.pause()},isPlaying:function(){return!this.backend.isPaused()},skipBackward:function(t){this.skip(-t||-this.params.skipLength)},skipForward:function(t){this.skip(t||this.params.skipLength)},skip:function(t){var e=this.getCurrentTime()||0,i=this.getDuration()||1,e=Math.max(0,Math.min(i,e+(t||0)));this.seekAndCenter(e/i)},seekAndCenter:function(t){this.seekTo(t),this.drawer.recenter(t)},seekTo:function(t){this.fireEvent("interaction",this.seekTo.bind(this,t));var e=this.backend.isPaused(),i=this.params.scrollParent;e&&(this.params.scrollParent=!1),this.backend.seekTo(t*this.getDuration()),this.drawer.progress(this.backend.getPlayedPercents()),e||(this.backend.pause(),this.backend.play()),this.params.scrollParent=i,this.fireEvent("seek",t)},stop:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)},setVolume:function(t){this.backend.setVolume(t)},setPlaybackRate:function(t){this.backend.setPlaybackRate(t)},toggleMute:function(){this.setMute(!this.isMuted)},setMute:function(t){t!==this.isMuted&&(t?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0):(this.backend.setVolume(this.savedVolume),this.isMuted=!1))},toggleScroll:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()},toggleInteraction:function(){this.params.interact=!this.params.interact},drawBuffer:function(){var t=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),e=this.drawer.getWidth(),i=t;this.params.fillParent&&(!this.params.scrollParent||t<e)&&(i=e);e=this.backend.getPeaks(i);this.drawer.drawPeaks(e,i),this.fireEvent("redraw",e,i)},zoom:function(t){this.params.minPxPerSec=t,this.params.scrollParent=!0,this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",t)},loadArrayBuffer:function(t){this.decodeArrayBuffer(t,function(t){this.isDestroyed||this.loadDecodedBuffer(t)}.bind(this))},loadDecodedBuffer:function(t){this.backend.load(t),this.drawBuffer(),this.fireEvent("ready")},loadBlob:function(t){var e=this,i=new FileReader;i.addEventListener("progress",function(t){e.onProgress(t)}),i.addEventListener("load",function(t){e.loadArrayBuffer(t.target.result)}),i.addEventListener("error",function(){e.fireEvent("error","Error reading file")}),i.readAsArrayBuffer(t),this.empty()},load:function(t,e,i){switch(this.empty(),this.params.backend){case"WebAudio":return this.loadBuffer(t,e);case"MediaElement":return this.loadMediaElement(t,e,i)}},loadBuffer:function(e,t){var i=function(t){return t&&this.tmpEvents.push(this.once("ready",t)),this.getArrayBuffer(e,this.loadArrayBuffer.bind(this))}.bind(this);return t?(this.backend.setPeaks(t),this.drawBuffer(),void this.tmpEvents.push(this.once("interaction",i))):i()},loadMediaElement:function(t,e,i){var s=t;"string"==typeof t?this.backend.load(s,this.mediaContainer,e,i):(this.backend.loadElt(t=t,e),s=t.src),this.tmpEvents.push(this.backend.once("canplay",function(){this.drawBuffer(),this.fireEvent("ready")}.bind(this)),this.backend.once("error",function(t){this.fireEvent("error",t)}.bind(this))),e?this.backend.setPeaks(e):this.backend.supportsWebAudio()&&this.getArrayBuffer(s,function(t){this.decodeArrayBuffer(t,function(t){this.backend.buffer=t,this.drawBuffer(),this.fireEvent("waveform-ready")}.bind(this))}.bind(this))},decodeArrayBuffer:function(e,i){this.arraybuffer=e,this.backend.decodeArrayBuffer(e,function(t){this.isDestroyed||this.arraybuffer!=e||(i(t),this.arraybuffer=null)}.bind(this),this.fireEvent.bind(this,"error","Error decoding audiobuffer"))},getArrayBuffer:function(t,i){var s=this,t=c.util.ajax({url:t,responseType:"arraybuffer"});return this.currentAjax=t,this.tmpEvents.push(t.on("progress",function(t){s.onProgress(t)}),t.on("success",function(t,e){i(t),s.currentAjax=null}),t.on("error",function(t){s.fireEvent("error","XHR error: "+t.target.statusText),s.currentAjax=null})),t},onProgress:function(t){var e=t.lengthComputable?t.loaded/t.total:t.loaded/(t.loaded+1e6);this.fireEvent("loading",Math.round(100*e),t.target)},exportPCM:function(t,e,i){e=e||1e4,i=i||!1;t=this.backend.getPeaks(t=t||1024,e),t=[].map.call(t,function(t){return Math.round(t*e)/e}),t=JSON.stringify(t);return i||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(t)),t},exportImage:function(t,e){return this.drawer.getImage(t=t||"image/png",e=e||1)},cancelAjax:function(){this.currentAjax&&(this.currentAjax.xhr.abort(),this.currentAjax=null)},clearTmpEvents:function(){this.tmpEvents.forEach(function(t){t.un()})},empty:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)},destroy:function(){this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.backend.destroy(),this.drawer.destroy(),this.isDestroyed=!0},create:function(t){var e=Object.create(c);return e.init(t),e},util:{extend:function(i){return Array.prototype.slice.call(arguments,1).forEach(function(e){Object.keys(e).forEach(function(t){i[t]=e[t]})}),i},min:function(t){var e,i=1/0;for(e in t)t[e]<i&&(i=t[e]);return i},max:function(t){var e,i=-1/0;for(e in t)t[e]>i&&(i=t[e]);return i},getId:function(){return"wavesurfer_"+Math.random().toString(32).substring(2)},ajax:function(t){var e=Object.create(c.Observer),i=new XMLHttpRequest,s=!1;return i.open(t.method||"GET",t.url,!0),i.responseType=t.responseType||"json",i.addEventListener("progress",function(t){e.fireEvent("progress",t),t.lengthComputable&&t.loaded==t.total&&(s=!0)}),i.addEventListener("load",function(t){s||e.fireEvent("progress",t),e.fireEvent("load",t),200==i.status||206==i.status?e.fireEvent("success",i.response,t):e.fireEvent("error",t)}),i.addEventListener("error",function(t){e.fireEvent("error",t)}),i.send(),e.xhr=i,e}},Observer:{on:function(t,e){return this.handlers||(this.handlers={}),(this.handlers[t]||(this.handlers[t]=[])).push(e),{name:t,callback:e,un:this.un.bind(this,t,e)}},un:function(t,e){if(this.handlers){var i=this.handlers[t];if(i)if(e)for(var s=i.length-1;0<=s;s--)i[s]==e&&i.splice(s,1);else i.length=0}},unAll:function(){this.handlers=null},once:function(t,e){var i=this,s=function(){e.apply(this,arguments),setTimeout(function(){i.un(t,s)},0)};return this.on(t,s)},fireEvent:function(t){var e;this.handlers&&(t=this.handlers[t],e=Array.prototype.slice.call(arguments,1),t&&t.forEach(function(t){t.apply(null,e)}))}}};return c.util.extend(c,c.Observer),c.WebAudio={scriptBufferSize:256,PLAYING_STATE:0,PAUSED_STATE:1,FINISHED_STATE:2,supportsWebAudio:function(){return!(!window.AudioContext&&!window.webkitAudioContext)},getAudioContext:function(){return this.ac||(this.ac=new(window.AudioContext||window.webkitAudioContext)),this.ac},getOfflineAudioContext:function(t){return c.WebAudio.offlineAudioContext||(c.WebAudio.offlineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,t)),c.WebAudio.offlineAudioContext},init:function(t){this.params=t,this.ac=t.audioContext||this.getAudioContext(),this.lastPlay=this.ac.currentTime,this.startPosition=0,this.scheduledPause=null,this.states=[Object.create(c.WebAudio.state.playing),Object.create(c.WebAudio.state.paused),Object.create(c.WebAudio.state.finished)],this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(this.PAUSED_STATE),this.setPlaybackRate(this.params.audioRate)},disconnectFilters:function(){this.filters&&(this.filters.forEach(function(t){t&&t.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))},setState:function(t){this.state!==this.states[t]&&(this.state=this.states[t],this.state.init.call(this))},setFilter:function(){this.setFilters([].slice.call(arguments))},setFilters:function(t){this.disconnectFilters(),t&&t.length&&(this.filters=t,this.analyser.disconnect(),t.reduce(function(t,e){return t.connect(e),e},this.analyser).connect(this.gainNode))},createScriptNode:function(){this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(this.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(this.scriptBufferSize),this.scriptNode.connect(this.ac.destination)},addOnAudioProcess:function(){var e=this;this.scriptNode.onaudioprocess=function(){var t=e.getCurrentTime();t>=e.getDuration()?(e.setState(e.FINISHED_STATE),e.fireEvent("pause")):t>=e.scheduledPause?e.pause():e.state===e.states[e.PLAYING_STATE]&&e.fireEvent("audioprocess",t)}},removeOnAudioProcess:function(){this.scriptNode.onaudioprocess=null},createAnalyserNode:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)},createVolumeNode:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)},setVolume:function(t){this.gainNode.gain.value=t},getVolume:function(){return this.gainNode.gain.value},decodeArrayBuffer:function(t,e,i){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac?this.ac.sampleRate:44100)),this.offlineAc.decodeAudioData(t,function(t){e(t)}.bind(this),i)},setPeaks:function(t){this.peaks=t},getPeaks:function(t){if(this.peaks)return this.peaks;for(var e=this.buffer.length/t,i=~~(e/10)||1,s=this.buffer.numberOfChannels,n=[],a=[],r=0;r<s;r++)for(var o=n[r]=[],h=this.buffer.getChannelData(r),u=0;u<t;u++){for(var l=~~(u*e),d=~~(l+e),c=0,f=0,m=l;m<d;m+=i){var p=h[m];f<p&&(f=p),p<c&&(c=p)}o[2*u]=f,o[2*u+1]=c,(0==r||f>a[2*u])&&(a[2*u]=f),(0==r||c<a[2*u+1])&&(a[2*u+1]=c)}return this.params.splitChannels?n:a},getPlayedPercents:function(){return this.state.getPlayedPercents.call(this)},disconnectSource:function(){this.source&&this.source.disconnect()},destroy:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.audioContext||this.ac.close()},load:function(t){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=t,this.createSource()},createSource:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.value=this.playbackRate,this.source.buffer=this.buffer,this.source.connect(this.analyser)},isPaused:function(){return this.state!==this.states[this.PLAYING_STATE]},getDuration:function(){return this.buffer?this.buffer.duration:0},seekTo:function(t,e){if(this.buffer)return(this.scheduledPause=null)==t&&((t=this.getCurrentTime())>=this.getDuration()&&(t=0)),null==e&&(e=this.getDuration()),this.startPosition=t,this.lastPlay=this.ac.currentTime,this.state===this.states[this.FINISHED_STATE]&&this.setState(this.PAUSED_STATE),{start:t,end:e}},getPlayedTime:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate},play:function(t,e){var i;this.buffer&&(this.createSource(),t=(i=this.seekTo(t,e)).start,e=i.end,this.scheduledPause=e,this.source.start(0,t,e-t),"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.setState(this.PLAYING_STATE),this.fireEvent("play"))},pause:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(this.PAUSED_STATE),this.fireEvent("pause")},getCurrentTime:function(){return this.state.getCurrentTime.call(this)},setPlaybackRate:function(t){t=t||1,this.isPaused()?this.playbackRate=t:(this.pause(),this.playbackRate=t,this.play())}},c.WebAudio.state={},c.WebAudio.state.playing={init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var t=this.getDuration();return this.getCurrentTime()/t||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}},c.WebAudio.state.paused={init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var t=this.getDuration();return this.getCurrentTime()/t||0},getCurrentTime:function(){return this.startPosition}},c.WebAudio.state.finished={init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}},c.util.extend(c.WebAudio,c.Observer),c.MediaElement=Object.create(c.WebAudio),c.util.extend(c.MediaElement,{init:function(t){this.params=t,this.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){}},this.mediaType=t.mediaType.toLowerCase(),this.elementPosition=t.elementPosition,this.setPlaybackRate(this.params.audioRate),this.createTimer()},createTimer:function(){var t=this,e=function(){t.isPaused()||(t.fireEvent("audioprocess",t.getCurrentTime()),(window.requestAnimationFrame||window.webkitRequestAnimationFrame)(e))};this.on("play",e)},load:function(t,e,i,s){var n=document.createElement(this.mediaType);n.controls=this.params.mediaControls,n.autoplay=this.params.autoplay||!1,n.preload=null==s?"auto":s,n.src=t,n.style.width="100%";t=e.querySelector(this.mediaType);t&&e.removeChild(t),e.appendChild(n),this._load(n,i)},loadElt:function(t,e){t.controls=this.params.mediaControls,t.autoplay=this.params.autoplay||!1,this._load(t,e)},_load:function(t,e){var i=this;"function"==typeof t.load&&t.load(),t.addEventListener("error",function(){i.fireEvent("error","Error loading media element")}),t.addEventListener("canplay",function(){i.fireEvent("canplay")}),t.addEventListener("ended",function(){i.fireEvent("finish")}),this.media=t,this.peaks=e,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate)},isPaused:function(){return!this.media||this.media.paused},getDuration:function(){var t=this.media.duration;return t=1/0<=t?this.media.seekable.end(0):t},getCurrentTime:function(){return this.media&&this.media.currentTime},getPlayedPercents:function(){return this.getCurrentTime()/this.getDuration()||0},setPlaybackRate:function(t){this.playbackRate=t||1,this.media.playbackRate=this.playbackRate},seekTo:function(t){null!=t&&(this.media.currentTime=t),this.clearPlayEnd()},play:function(t,e){this.seekTo(t),this.media.play(),e&&this.setPlayEnd(e),this.fireEvent("play")},pause:function(){this.media&&this.media.pause(),this.clearPlayEnd(),this.fireEvent("pause")},setPlayEnd:function(e){var i=this;this.onPlayEnd=function(t){e<=t&&(i.pause(),i.seekTo(e))},this.on("audioprocess",this.onPlayEnd)},clearPlayEnd:function(){this.onPlayEnd&&(this.un("audioprocess",this.onPlayEnd),this.onPlayEnd=null)},getPeaks:function(t){return this.buffer?c.WebAudio.getPeaks.call(this,t):this.peaks||[]},getVolume:function(){return this.media.volume},setVolume:function(t){this.media.volume=t},destroy:function(){this.pause(),this.unAll(),this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}),c.AudioElement=c.MediaElement,c.Drawer={init:function(t,e){this.container=t,this.params=e,this.width=0,this.height=e.height*this.params.pixelRatio,this.lastPos=0,this.initDrawer(e),this.createWrapper(),this.createElements()},createWrapper:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()},handleEvent:function(t,e){e||t.preventDefault();var i,s=(t.targetTouches?t.targetTouches[0]:t).clientX,n=this.wrapper.getBoundingClientRect(),e=this.width,t=this.getWidth();return!this.params.fillParent&&e<t?1<(i=(s-n.left)*this.params.pixelRatio/e||0)&&(i=1):i=(s-n.left+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,i},setupWrapperEvents:function(){var s=this;this.wrapper.addEventListener("click",function(t){var e=s.wrapper.offsetHeight-s.wrapper.clientHeight;if(0!=e){var i=s.wrapper.getBoundingClientRect();if(t.clientY>=i.bottom-e)return}s.params.interact&&s.fireEvent("click",t,s.handleEvent(t))}),this.wrapper.addEventListener("scroll",function(t){s.fireEvent("scroll",t)})},drawPeaks:function(t,e){this.resetScroll(),this.setWidth(e),this.params.barWidth?this.drawBars(t):this.drawWave(t)},style:function(e,i){return Object.keys(i).forEach(function(t){e.style[t]!==i[t]&&(e.style[t]=i[t])}),e},resetScroll:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)},recenter:function(t){t=this.wrapper.scrollWidth*t;this.recenterOnPosition(t,!0)},recenterOnPosition:function(t,e){var i=this.wrapper.scrollLeft,s=~~(this.wrapper.clientWidth/2),n=t-s,a=n-i,t=this.wrapper.scrollWidth-this.wrapper.clientWidth;0!=t&&(!e&&-s<=a&&a<s&&(n=i+(a=Math.max(-5,Math.min(5,a)))),(n=Math.max(0,Math.min(t,n)))!=i&&(this.wrapper.scrollLeft=n))},getWidth:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)},setWidth:function(t){this.width=t,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize()},setHeight:function(t){t!=this.height&&(this.height=t,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize())},progress:function(t){var e=1/this.params.pixelRatio,i=Math.round(t*this.width)*e;(i<this.lastPos||i-this.lastPos>=e)&&(this.lastPos=i,this.params.scrollParent&&this.params.autoCenter&&(i=~~(this.wrapper.scrollWidth*t),this.recenterOnPosition(i)),this.updateProgress(t))},destroy:function(){this.unAll(),this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=null)},initDrawer:function(){},createElements:function(){},updateSize:function(){},drawWave:function(t,e){},clearWave:function(){},updateProgress:function(t){}},c.util.extend(c.Drawer,c.Observer),c.Drawer.Canvas=Object.create(c.Drawer),c.util.extend(c.Drawer.Canvas,{createElements:function(){var t=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:0,top:0,bottom:0}));this.waveCc=t.getContext("2d"),this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.params.waveColor!=this.params.progressColor&&(t=this.progressWave.appendChild(document.createElement("canvas")),this.progressCc=t.getContext("2d"))},updateSize:function(){var t=Math.round(this.width/this.params.pixelRatio);this.waveCc.canvas.width=this.width,this.waveCc.canvas.height=this.height,this.style(this.waveCc.canvas,{width:t+"px"}),this.style(this.progressWave,{display:"block"}),this.progressCc&&(this.progressCc.canvas.width=this.width,this.progressCc.canvas.height=this.height,this.style(this.progressCc.canvas,{width:t+"px"})),this.clearWave()},clearWave:function(){this.waveCc.clearRect(0,0,this.width,this.height),this.progressCc&&this.progressCc.clearRect(0,0,this.width,this.height)},drawBars:function(s,t){if(s[0]instanceof Array){var e=s;if(this.params.splitChannels)return this.setHeight(e.length*this.params.height*this.params.pixelRatio),void e.forEach(this.drawBars,this);s=e[0]}[].some.call(s,function(t){return t<0})&&(s=[].filter.call(s,function(t,e){return e%2==0}));var n=.5/this.params.pixelRatio,a=this.width,e=this.params.height*this.params.pixelRatio,r=e*t||0,o=e/2,t=s.length,h=this.params.barWidth*this.params.pixelRatio,e=Math.max(this.params.pixelRatio,~~(h/2)),u=h+e,l=1;this.params.normalize&&(l=c.util.max(s));var d=t/a;this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(t){if(t)for(var e=0;e<a;e+=u){var i=Math.round(s[Math.floor(e*d)]/l*o);t.fillRect(e+n,o-i+r,h+n,2*i)}},this)},drawWave:function(s,t){if(s[0]instanceof Array){var e=s;if(this.params.splitChannels)return this.setHeight(e.length*this.params.height*this.params.pixelRatio),void e.forEach(this.drawWave,this);s=e[0]}if(![].some.call(s,function(t){return t<0})){for(var i=[],n=0,a=s.length;n<a;n++)i[2*n]=s[n],i[2*n+1]=-s[n];s=i}var r=.5/this.params.pixelRatio,e=this.params.height*this.params.pixelRatio,o=e*t||0,h=e/2,u=~~(s.length/2),l=1;this.params.fillParent&&this.width!=u&&(l=this.width/u);var d=1;this.params.normalize&&(t=c.util.max(s),e=c.util.min(s),d=t<-e?-e:t),this.waveCc.fillStyle=this.params.waveColor,this.progressCc&&(this.progressCc.fillStyle=this.params.progressColor),[this.waveCc,this.progressCc].forEach(function(t){if(t){t.beginPath(),t.moveTo(r,h+o);for(var e=0;e<u;e++){var i=Math.round(s[2*e]/d*h);t.lineTo(e*l+r,h-i+o)}for(e=u-1;0<=e;e--){i=Math.round(s[2*e+1]/d*h);t.lineTo(e*l+r,h-i+o)}t.closePath(),t.fill(),t.fillRect(0,h+o-r,this.width,r)}},this)},updateProgress:function(t){t=Math.round(this.width*t)/this.params.pixelRatio;this.style(this.progressWave,{width:t+"px"})},getImage:function(t,e){return this.waveCc.canvas.toDataURL(t,e)}}),c.Drawer.MultiCanvas=Object.create(c.Drawer),c.util.extend(c.Drawer.MultiCanvas,{initDrawer:function(t){if(this.maxCanvasWidth=null!=t.maxCanvasWidth?t.maxCanvasWidth:4e3,this.maxCanvasElementWidth=Math.round(this.maxCanvasWidth/this.params.pixelRatio),this.maxCanvasWidth<=1)throw"maxCanvasWidth must be greater than 1.";if(this.maxCanvasWidth%2==1)throw"maxCanvasWidth must be an even number.";this.hasProgressCanvas=this.params.waveColor!=this.params.progressColor,this.halfPixel=.5/this.params.pixelRatio,this.canvases=[]},createElements:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:2,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})),this.addCanvas()},updateSize:function(){for(var t,e=Math.round(this.width/this.params.pixelRatio),i=Math.ceil(e/this.maxCanvasElementWidth);this.canvases.length<i;)this.addCanvas();for(;this.canvases.length>i;)this.removeCanvas();for(t in this.canvases){var s=this.maxCanvasWidth+2*Math.ceil(this.params.pixelRatio/2);t==this.canvases.length-1&&(s=this.width-this.maxCanvasWidth*(this.canvases.length-1)),this.updateDimensions(this.canvases[t],s,this.height),this.clearWaveForEntry(this.canvases[t])}},addCanvas:function(){var t={},e=this.maxCanvasElementWidth*this.canvases.length;t.wave=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:1,left:e+"px",top:0,bottom:0})),t.waveCtx=t.wave.getContext("2d"),this.hasProgressCanvas&&(t.progress=this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:e+"px",top:0,bottom:0})),t.progressCtx=t.progress.getContext("2d")),this.canvases.push(t)},removeCanvas:function(){var t=this.canvases.pop();t.wave.parentElement.removeChild(t.wave),this.hasProgressCanvas&&t.progress.parentElement.removeChild(t.progress)},updateDimensions:function(t,e,i){var s=Math.round(e/this.params.pixelRatio),n=Math.round(this.width/this.params.pixelRatio);t.start=t.waveCtx.canvas.offsetLeft/n||0,t.end=t.start+s/n,t.waveCtx.canvas.width=e,t.waveCtx.canvas.height=i,this.style(t.waveCtx.canvas,{width:s+"px"}),this.style(this.progressWave,{display:"block"}),this.hasProgressCanvas&&(t.progressCtx.canvas.width=e,t.progressCtx.canvas.height=i,this.style(t.progressCtx.canvas,{width:s+"px"}))},clearWave:function(){for(var t in this.canvases)this.clearWaveForEntry(this.canvases[t])},clearWaveForEntry:function(t){t.waveCtx.clearRect(0,0,t.waveCtx.canvas.width,t.waveCtx.canvas.height),this.hasProgressCanvas&&t.progressCtx.clearRect(0,0,t.progressCtx.canvas.width,t.progressCtx.canvas.height)},drawBars:function(t,e){if(t[0]instanceof Array){var i=t;if(this.params.splitChannels)return this.setHeight(i.length*this.params.height*this.params.pixelRatio),void i.forEach(this.drawBars,this);t=i[0]}[].some.call(t,function(t){return t<0})&&(t=[].filter.call(t,function(t,e){return e%2==0}));var s=this.width,i=this.params.height*this.params.pixelRatio,n=i*e||0,a=i/2,i=t.length,r=this.params.barWidth*this.params.pixelRatio,o=r+Math.max(this.params.pixelRatio,~~(r/2)),h=1;this.params.normalize&&(h=c.util.max(t));for(var u=i/s,l=0;l<s;l+=o){var d=Math.round(t[Math.floor(l*u)]/h*a);this.fillRect(l+this.halfPixel,a-d+n,r+this.halfPixel,2*d)}},drawWave:function(t,e){if(t[0]instanceof Array){var i=t;if(this.params.splitChannels)return this.setHeight(i.length*this.params.height*this.params.pixelRatio),void i.forEach(this.drawWave,this);t=i[0]}if(![].some.call(t,function(t){return t<0})){for(var s=[],n=0,a=t.length;n<a;n++)s[2*n]=t[n],s[2*n+1]=-t[n];t=s}var r=this.params.height*this.params.pixelRatio,o=r*e||0,h=r/2,i=1;this.params.normalize&&(i=(e=c.util.max(t))<-(r=c.util.min(t))?-r:e),this.drawLine(t,i,h,o),this.fillRect(0,h+o-this.halfPixel,this.width,this.halfPixel)},drawLine:function(t,e,i,s){for(var n in this.canvases){n=this.canvases[n];this.setFillStyles(n),this.drawLineToContext(n,n.waveCtx,t,e,i,s),this.drawLineToContext(n,n.progressCtx,t,e,i,s)}},drawLineToContext:function(t,e,i,s,n,a){if(e){var r=i.length/2,o=1;this.params.fillParent&&this.width!=r&&(o=this.width/r);var h=Math.round(r*t.start),u=Math.round(r*t.end);e.beginPath(),e.moveTo(this.halfPixel,n+a);for(var l=h;l<u;l++){var d=Math.round(i[2*l]/s*n);e.lineTo((l-h)*o+this.halfPixel,n-d+a)}for(l=u-1;h<=l;l--){d=Math.round(i[2*l+1]/s*n);e.lineTo((l-h)*o+this.halfPixel,n-d+a)}e.closePath(),e.fill()}},fillRect:function(t,e,i,s){for(var n in this.canvases){var a=this.canvases[n],r=n*this.maxCanvasWidth,n={x1:Math.max(t,n*this.maxCanvasWidth),y1:e,x2:Math.min(t+i,n*this.maxCanvasWidth+a.waveCtx.canvas.width),y2:e+s};n.x1<n.x2&&(this.setFillStyles(a),this.fillRectToContext(a.waveCtx,n.x1-r,n.y1,n.x2-n.x1,n.y2-n.y1),this.fillRectToContext(a.progressCtx,n.x1-r,n.y1,n.x2-n.x1,n.y2-n.y1))}},fillRectToContext:function(t,e,i,s,n){t&&t.fillRect(e,i,s,n)},setFillStyles:function(t){t.waveCtx.fillStyle=this.params.waveColor,this.hasProgressCanvas&&(t.progressCtx.fillStyle=this.params.progressColor)},updateProgress:function(t){t=Math.round(this.width*t)/this.params.pixelRatio;this.style(this.progressWave,{width:t+"px"})}}),"complete"===document.readyState?t():window.addEventListener("load",t),c;function t(){var t=document.querySelectorAll("wavesurfer");Array.prototype.forEach.call(t,function(t){var e=c.util.extend({container:t,backend:"MediaElement",mediaControls:!0},t.dataset);t.style.display="block";var i,e=c.create(e);t.dataset.peaks&&(i=JSON.parse(t.dataset.peaks)),e.load(t.dataset.url,i)})}}),IRON.audioPlayer=function(c){"use strict";var f=Boolean("wavesurfer"===sonaar_music.option.waveformType);var d=function(t,e){f?t.isPlaying()||y(e,t):(t.play(),y(e,t))};function m(t,e,i,s){var n,a,r=i.find(".album .album-art"),o=(i.find(".album"),i.find(".track-title")),h=i.find(".track-time"),u=i.find(".sr_it-artists-value"),l=i.find(".sr_it-playlist-title, .album-title"),d=i.find(".srp_subtitle");"1"!=i.data("hide-artwork")&&"true"!=i.data("hide-artwork")&&(t.data("albumart")?(i.removeClass("sonaar-no-artwork"),r.find("img").length?r.find("img").attr("src",t.data("albumart")):r.css("background-image","url("+t.data("albumart")+")")):i.addClass("sonaar-no-artwork")),i.data("currentTrack",e),o.html(t.data("tracktitle")),h.text(t.data("tracktime")),u.text(t.data("trackartists")),d.text(t.data("releasedate")),i.data("playlist_title").length?l.text(i.data("playlist_title")):l.text(t.data("albumtitle")),"skin_boxed_tracklist"==i.data("playertemplate")&&i.find(".srp_track_cta").append(t.find(".song-store-list-container")),i.find(".player").removeClass("hide"),i.find(".wave").removeClass("reveal"),t.data("showloading")?i.find(".progressLoading").css("opacity","0.75"):i.find(".player").addClass("hide"),f&&p(t.data("audiopath"),s,i),f||createFakeWave(i),n=i,a=s,f?(n.find(".player").addClass("reveal"),c(".wave").addClass("reveal"),n.find(".progressLoading").css("opacity","0")):c(a).on("timeupdate",function(){var t=a.currentTime,t=moment.duration(t,"seconds");12<=t.hours()||t.hours()<=0?n.find(".currentTime").html(moment(t.minutes()+":"+t.seconds(),"m:s").format("mm:ss")):n.find(".currentTime").html(moment(t.hours()+":"+t.minutes()+":"+t.seconds(),"h:m:s").format("h:mm:ss")),a.duration!==1/0?12<=(t=moment.duration(a.duration-a.currentTime,"seconds")).hours()||t.hours()<=0?n.find(".totalTime").html("-"+moment(t.minutes()+":"+t.seconds(),"m:s").format("mm:ss")):n.find(".totalTime").html("-"+moment(t.hours()+":"+t.minutes()+":"+t.seconds(),"h:m:s").format("h:mm:ss")):n.find(".totalTime").html("")}),hideEmptyAttribut(t.data("releasedate"),i.find(".srp_subtitle"))}var p=function(t,e){f?setTimeout(function(){e.load(t)},250):(c(e).attr("src",t),e.load(),c(".sonaar_fake_wave").on("click",function(t){var e=c(this).find(".sonaar_media_element")[0],i=c("body").hasClass("rtl")?c(this).width()/(c(this).width()-t.offsetX):c(this).width()/t.offsetX,s="Infinity"==e.duration?e.buffered.end(e.buffered.length-1):e.duration;e.currentTime=s/i,t.preventDefault()}))};function y(t,e){if(c.each(IRON.players,function(){this.audioPlayer.removeClass("audio-playing")}),w(e))return t.addClass("audio-playing"),void t.find(".currentTime, .totalTime").show();t.removeClass("audio-playing")}function g(){c.each(IRON.players,function(){w(this.wavesurfer)&&this.wavesurfer.pause()})}function _(t,e){t.find(".playlist li").hasClass("current")||t.find("li:first-of-type").addClass("current"),w(e)?e.pause():e.play(),y(t,e)}function v(t,e,i){t=t.data("currentTrack")+1;i.find("li").eq(t).length||(t=0),e.pause(),i.find("li").eq(t).find("a.audio-track").click()}function w(t){return f?t.isPlaying():!t.paused}return{init:function(t){var i=t;i.id=i.data("id"),i.hide_progressbar=!!i.data("hide-progressbar"),this.audioPlayer=t;var e,s,n,a,r,o,h,u,l=this.audioPlayer.find(".player .wave").attr("id"),t=i.find(".playlist");this.playlist=t,this.autoplayEnable=i.data("autoplay"),c(i).css("opacity",1),f?(""!=jQuery.trim(jQuery("#"+l).html())&&jQuery("#"+l).html(""),(s=WaveSurfer.create({container:"#"+l,cursorWidth:0,barWidth:1,progressColor:sonaar_music.option.music_player_progress_color,waveColor:sonaar_music.option.music_player_timeline_color,height:70,mediaControls:!0,mediaControls:!1,backend:"MediaElement"})).on("loading",function(){var t=arguments[0];i.find(".progressLoading").css("background",sonaar_music.option.music_player_timeline_color),i.find(".progressLoading").css("width","calc( "+t+"% - 200px )")}),e=!0,s.on("ready",function(){e||isGutenbergActive()?e=!1:(s.play(),i.addClass("audio-playing"),i.find(".currentTime, .totalTime").show())}),s.on("audioprocess",function(){var t=s.getCurrentTime(),e=s.getDuration(),t=moment.duration(t,"seconds");12<=t.hours()||t.hours()<=0?i.find(".currentTime").html(moment(t.minutes()+":"+t.seconds(),"m:s").format("mm:ss")):i.find(".currentTime").html(moment(t.hours()+":"+t.minutes()+":"+t.seconds(),"h:m:s").format("h:mm:ss")),e!==1/0?12<=(e=moment.duration(s.getDuration()-s.getCurrentTime(),"seconds")).hours()||e.hours()<=0?i.find(".totalTime").html("-"+moment(e.minutes()+":"+e.seconds(),"m:s").format("mm:ss")):i.find(".totalTime").html("-"+moment(e.hours()+":"+e.minutes()+":"+e.seconds(),"h:m:s").format("h:mm:ss")):i.find(".totalTime").html(this.list.tracks[this.currentTrack].length)})):s=c("#"+l).find(".sonaar_media_element")[0],this.wavesurfer=s,f||(a=i,r=t,c(n=s).on("timeupdate",function(){var t="Infinity"==this.duration?this.buffered.end(this.buffered.length-1):this.duration;c(a).find(".sonaar_wave_cut").width(this.currentTime/t*100+"%"),n.ended&&v(a,n,r)}),c(i).find(".wave").css("opacity","1")),function(t,e,i){let s=0;t.find("li").each(function(){!function(e,i,s,n){e.find(".audio-track").remove();var t=c("<span/>",{class:"track-number",html:'<span class="number">'+(i+1)+'</span><i class="sricon-play"></i>'});c(""),c("<a/>",{class:"audio-track",click:function(t){""==s.currentSrc&&c(n).attr("first-track-loading","true"),0!=c(this).parents(".sr-playlist-item").attr("data-audiopath").length&&(w(s)&&e.hasClass("current")?(g(),y(n,s)):e.hasClass("current")?_(n,s):(g(),m(e,i,n,s),f||p(e.data("audiopath"),s,n),n.find(".playlist li").removeClass("current"),e.addClass("current"),d(s,n),y(n,s)),t.preventDefault())}}).appendTo(e).prepend(t).append('<div class="tracklist-item-title">'+e.data("tracktitle")+' </div><span class="tracklist-item-time">'+e.data("tracktime")+"</span>"),e.find(".store-list").before(e.find(".audio-track"))}(c(this),c(this).index(),e,i),"1"!=c(this).data("relatedtrack")&&(c(this).data("tracktime")?(convertTime(c(this).data("tracktime")),s+=convertTime(c(this).data("tracktime"))):i.find(".srp_playlist_duration").hide())}),s=60*Math.round(s/60);s;s=moment.duration(s,"seconds");t=0<s.hours()?s.hours()+" "+i.find(".srp_playlist_duration").data("hours-label")+" ":"";t=t+s.minutes()+" "+i.find(".srp_playlist_duration").data("minutes-label"),i.find(".srp_playlist_duration").html(t)}(t,s,i),m(t.find("li").eq(0),t.find("li").index(),i,s),o=this.wavesurfer,u=t,(h=i).unbind("click"),h.on("click",".play, .album .album-art",function(t){g(),h.hasClass("audio-playing")?g():f||""!=o.currentSrc?(_(h,o),d(o,h)):(c(h).attr("first-track-loading","true"),u.find("li").eq(0).find("a.audio-track").click()),y(h,o),t.preventDefault()}),h.on("click",".previous",function(t){!function(t,e,i){t=t.data("currentTrack")-1;if(f&&"2"<e.getCurrentTime())return e.seekTo(0);i.find("li").eq(t).find("a.audio-track").click()}(h,o,u),t.preventDefault()}),h.on("click",".next",function(t){v(h,o,u),t.preventDefault()}),h.on("mouseenter",".song-store-list-menu",function(){openStoreListContainer(this)}),h.on("mouseleave",".song-store-list-container",function(){closeStoreListContainer(this)}),function(t,e,i){if(f)t.on("finish",function(){v(e,t,i)})}(s,i,t),sr_playerCTAresponsive()},getPlayer:function(){return this},play:function(){_(this.audioPlayer,this.wavesurfer)},autoplayEnable:void 0,triggerPlay:d}}(jQuery),setIronAudioplayers();